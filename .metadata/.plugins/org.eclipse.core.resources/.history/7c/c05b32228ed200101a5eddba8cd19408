package com.yanzhengma.demo.config;

import org.springframework.context.annotation.Configuration;
import org.springframework.security.config.annotation.web.builders.HttpSecurity;
import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;
import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;

@Configuration
@EnableWebSecurity
public class WebSecurityConfig extends WebSecurityConfigurerAdapter {

 @Override
 protected void configure(HttpSecurity http) throws Exception {
     http
         .authorizeRequests(authz -> authz
             // ğŸ‘‡ æ”¾è¡Œä½ çš„å…¬å¼€æ¥å£
             .antMatchers("/api/captcha", "/api/verify", "/api/auth/register")
             .permitAll()
             .anyRequest().authenticated()
         )
         .csrf().disable()
         .formLogin().disable()      // â† ç¦ç”¨ 302 é‡å®šå‘åˆ° /login
         .httpBasic().disable();     // â† ç¦ç”¨å¼¹çª—è®¤è¯
 }
}